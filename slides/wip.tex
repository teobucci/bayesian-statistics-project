
%Stochastic Block Models -----------------------
\subsection{Stochastic Block Models}
\begin{frame}{Stochastic Block Models for the prior on G}

Given a random network of data, SBM \textbf{infere a node partition} based on similarity of connectivity patterns. Let
\begin{itemize}
    \item $H$ be the fixed number of clusters
    \item $\bm{z} \in \mathbb{R}^p$ vector of group memberships, $z_{i} \in {1,\ldots,H}$
    \item $\Theta \in \mathbb{R}^{H\times H}$ matrix of probability of edges between groups
\end{itemize} 
\centering
\begin{align*}
    G_{ij} \mid \Theta,\mathbf{z} \overset{\mathrm{iid}}{\sim} & Be(\theta_{ij}),  G \in \mathbb{R}^{p \times p}, \\
    \theta_{ij} = &\Theta_{z_{i}z_{j}}, 1 \le i < j \le p \\ 
    \Theta_{z_{i}z_{j}} \iid& Beta(\alpha, \beta)\\
    \mathbf{z} \iid & \pi_{z}(\mathbf{z}), \mathbf{z} \in \mathbb{R}^p
\end{align*}

%Tattica: farei comparire la figura con un tap, e intanto si commenta che "per brevitÃ  non entriamo nel dettaglio ma se sono interessati si"
\fg{0.8}{sbm}
%Aggiungere da dove viene la caption
 %% Critical task: \alert{identification of the number of clusters H}
\end{frame}




%%Questa la voglio come se fosse un tap dove faccio vedere fuori come cambia dopo che integro fuori theta
\begin{frame}{Stochastic Block Models for the prior on G}
%Given a random network of data, they \textbf{infere a node partition} based on similarity of connectivity patterns\\
%idealmente li vogliamo alla stessa altezza oppure lo leviamo

$\Theta$ can be marginalized out via beta-binomial conjugacy, leading to the folllowing model for the prior of G conditionally on z 
\centering
\begin{align*}
    G_{ij} \mid \mathbf{z} &\ind\  f_{G}(G \mid \mathbf{z}) , 1 \le i < j \le p \\ %alternativr G_{ij} \in {Edges}
    \mathbf{z} &\iid\ f_{z}(\mathbf{z}), \mathbf{z} \in \mathbb{R}^p
  \end{align*}

 \large Critical task: \textbf{identification of the number of clusters H}

\end{frame}


% \begin{frame}{All together}
%     \emph{``Are you getting it? These are not three separate devices: This is one device''}
%     \fg{1}{steve-mod}
% \end{frame}


% Use starred version (e.g. \section*{Section name})
    % to disable (sub)section page.
    \section{Section 1}
    \subsection{Subsection 1.1}
    \begin{frame}{Simple frame}
        This is a simple frame.
    \end{frame}

    \begin{frame}[plain]{Plain frame}
        This is a frame with plain style and it is numbered.
    \end{frame}
    
    \subsection{Subsection 1.2}
    \begin{frame}[t]
        This frame has an empty title and is aligned to top.
    \end{frame}
    
    \begin{frame}[noframenumbering]{No frame numbering}
        This frame is not numbered and is citing reference \cite{knuth74}.
    \end{frame}
    
    \begin{frame}{Typesetting and Math}
        The packages \texttt{fontenc} and \texttt{FiraSans}\footnote{\url{https://fonts.google.com/specimen/Fira+Sans}}\textsuperscript{,}\footnote{\url{http://mozilla.github.io/Fira/}} are used to properly set the main fonts.
        \vfill
        This theme provides styling commands to typeset \emph{emphasized}, \alert{alerted}, \textbf{bold}, \dots
        \vfill
        \texttt{FiraSans} also provides support for mathematical symbols:
        \begin{align*}
            e^{i\pi} + 1 & = 0, \\
            \int_{-\infty}^\infty e^{-x^2}\,\mathrm{d}x & = \sqrt{\pi}.
        \end{align*}
    \end{frame}

    \section{Section 2}
    \begin{frame}{Blocks}
        \begin{block}{Block}
            Text.
        \end{block}
        \pause
        \begin{alertblock}{Alert block}
            Alert \alert{text}.
        \end{alertblock}
        \pause
        \begin{exampleblock}{Example block}
            Example
        \end{exampleblock}
    \end{frame}
    
    %\begin{frame}{Lists}
    %    \begin{columns}[t, onlytextwidth]
    %        \column{0.33\textwidth}
    %            Items:
    %            \begin{itemize}
    %                \item Item 1
    %                \begin{itemize}
    %                    \item Subitem 1.1
    %                    \item Subitem 1.2
    %                \end{itemize}
    %                \item Item 2
    %                \item Item 3
    %            \end{itemize}
    %        
    %        \column{0.33\textwidth}
    %            Enumerations:
    %            \begin{enumerate}
    %                \item First
    %                \item Second
    %                \begin{enumerate}
    %                    \item Sub-first
    %                    \item Sub-second
    %                \end{enumerate}
    %                \item Third
    %            \end{enumerate}
    %        
    %        \column{0.33\textwidth}
    %            Descriptions:
    %            \begin{description}
    %                \item[First] Yes.
    %                \item[Second] No.
    %            \end{description}
    %    \end{columns}
    %\end{frame}
\setbeamertemplate{caption}[numbered]
    \begin{frame}{Figures and Tables}
        \begin{columns}
            \column{0.4\textwidth}
                \begin{figure}
                    \centering
                    \includegraphics[scale=0.15]{../report/images/logo-polimi-transparent}
                    \caption{Figure caption.}
                    \label{fig:focuslogo}
                \end{figure}
                
            \column{0.6\textwidth}
                \begin{table}
                    \centering
                    \begin{tabular}{rcc}
                         & Heading 1 & Heading 2 \\\hline
                        Row 1 & \(v_{11}\) & \(v_{12}\) \\
                        Row 2 & \(v_{21}\) & \(v_{22}\) \\
                        Row 3 & \(v_{31}\) & \(v_{32}\) \\
                    \end{tabular}
                    \caption{Table caption.}
                    \label{tab:demo}
                \end{table}
        \end{columns}
    \end{frame}

    
    \begin{frame}{Backup frame}
        This is a backup frame, useful to include additional material for questions from the audience.
        \vfill
        The package \texttt{appendixnumberbeamer} is used not to number appendix frames.
    \end{frame}

\begin{frame}
    Thank you!
\end{frame}